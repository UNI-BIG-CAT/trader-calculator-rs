# 📊 股票仓位管理器

一个专业的股票仓位跟踪和成本管理工具，支持建仓、加仓、减仓操作，实时跟踪持仓成本和手续费。

## 🚀 快速开始

直接在浏览器中打开 `stock-position-manager.html` 文件即可使用。

## 📁 文件说明

- `stock-position-manager.html` - 主要的仓位管理器应用 (推荐使用)
- `stock-calculator.html` - 简单的股票交易计算器
- `README.md` - 使用说明文档

## ✨ 功能特性

### 📊 仓位管理
- **股票记录创建**：支持建仓操作，建立股票持仓记录
- **多次加减仓**：可对同一股票进行多次加仓和减仓操作
- **实时成本跟踪**：自动计算平均持仓成本
- **持仓状态管理**：区分持仓中和已清仓状态

### 💰 精确计算
- **佣金计算**：0.03% (最低5元)
- **印花税**：0.1% (仅卖出时收取)
- **过户费**：0.002%
- **平均成本**：自动计算加权平均持仓成本
- **实现盈亏**：减仓时自动计算实现的盈亏

### 🏪 多市场支持
- **沪市** (上海证券交易所)
- **深市** (深圳证券交易所)

### 📋 操作记录
- **完整操作历史**：记录每次买入卖出的详细信息
- **手续费明细**：显示每次操作的手续费构成
- **实现盈亏跟踪**：记录每次减仓的盈亏情况
- **本地存储**：数据持久化保存

### 📱 现代化界面
- **双栏布局**：左侧股票列表，右侧详情展示
- **响应式设计**：支持移动设备和桌面端
- **模态框操作**：优雅的加减仓操作界面
- **实时更新**：操作后立即更新显示

## 🔧 使用方法

### 1. 创建股票记录 (建仓)
- **股票名称**：例如 "平安银行"
- **股票代码**：例如 "000001"
- **选择市场**：沪市或深市
- **建仓价格**：首次买入的价格
- **建仓股数**：首次买入的股数（手）

### 2. 选择股票进行操作
- 从左侧股票列表中点击选择要操作的股票
- 查看当前持仓详情和操作历史

### 3. 进行加仓或减仓
- **加仓**：点击"加仓"按钮，输入买入价格和数量
- **减仓**：点击"减仓"按钮，输入卖出价格和数量
- 系统会自动计算手续费和更新平均成本

### 4. 查看仓位信息
- **持仓股数**：当前总持仓数量
- **平均成本**：加权平均的持仓成本
- **总投入**：累计投入的资金
- **累计手续费**：所有操作产生的手续费
- **操作历史**：完整的买卖记录

## 📋 使用示例

假设操作平安银行(000001)的完整流程：

### 第1步：建仓
- 股票：平安银行 (000001)
- 建仓价格：¥10.50
- 建仓数量：100手
- **结果**：持仓10000股，平均成本¥10.5018

### 第2步：加仓
- 加仓价格：¥9.80
- 加仓数量：50手
- **结果**：持仓15000股，平均成本¥10.2679

### 第3步：减仓
- 减仓价格：¥11.20
- 减仓数量：80手
- **结果**：持仓7000股，实现盈亏¥+7,543.68

### 第4步：清仓
- 清仓价格：¥10.80
- 清仓数量：70手
- **结果**：已清仓，总实现盈亏¥+3,789.42

## 🎨 界面特色

- **双栏布局**：左侧股票列表，右侧仓位详情
- **渐变背景**：现代化的紫色渐变设计
- **卡片式布局**：股票信息和操作历史分区清晰
- **响应式设计**：完美适配手机、平板和桌面
- **颜色标识**：买入绿色，卖出红色，盈利绿色，亏损红色
- **模态框交互**：优雅的弹窗操作界面
- **实时更新**：操作后立即刷新显示

## 💾 数据存储

所有股票仓位数据都保存在浏览器的本地存储中，包括：
- 股票基本信息（名称、代码、市场）
- 当前持仓状态（股数、平均成本、总投入）
- 完整操作历史（每次买卖的详细记录）
- 手续费明细和实现盈亏记录

## 🔒 隐私保护

- 所有数据仅在本地存储
- 无需网络连接
- 不会上传任何个人信息

## 🛠️ 技术特性

- **纯HTML/CSS/JavaScript**：无依赖，直接运行
- **本地存储**：使用localStorage保存仓位数据
- **响应式设计**：CSS Grid + Flexbox布局
- **现代化UI**：CSS3动画、渐变效果和模态框
- **实时计算**：JavaScript实现复杂的成本平均算法
- **数据持久化**：关闭浏览器后数据不丢失

## 📱 移动端适配

- 自动适应手机和平板屏幕
- 触摸友好的按钮和表格设计
- 响应式双栏布局（移动端自动切换为单栏）
- 优化的模态框交互体验

## 🎯 使用建议

1. **建仓准确**：确保股票代码和建仓价格的准确性
2. **市场选择**：选择正确的交易市场（沪市/深市）
3. **及时记录**：每次实际交易后及时在系统中记录
4. **仓位跟踪**：定期查看平均成本和持仓状态
5. **数据备份**：重要记录建议定期导出备份
6. **分批操作**：充分利用加减仓功能进行分批建仓

---

*此工具仅供参考，实际交易费用可能因券商而异，请以实际交易为准。* 